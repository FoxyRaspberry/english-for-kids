(()=>{"use strict";function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}function a(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,t)}return s}function s(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?a(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function t(a,s,t){return(s=function(a){var s=function(a,s){if("object"!==e(a)||null===a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(a);return"symbol"===e(s)?s:String(s)}(s))in a?Object.defineProperty(a,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[s]=t,a}var n=[{categoryName:"Action 1",imagePath:"assets/images/bg_for_categories/action1.jpg"},{categoryName:"Action 2",imagePath:"assets/images/bg_for_categories/action2.jpg"},{categoryName:"Pets",imagePath:"assets/images/bg_for_categories/pets.jpg"},{categoryName:"Animal 1",imagePath:"assets/images/bg_for_categories/animal1.jpg"},{categoryName:"Animal 2",imagePath:"assets/images/bg_for_categories/animal2.jpg"},{categoryName:"Body",imagePath:"assets/images/bg_for_categories/body.jpg"},{categoryName:"Places",imagePath:"assets/images/bg_for_categories/places.jpg"},{categoryName:"Emotions",imagePath:"assets/images/bg_for_categories/emotion.jpg"}],o=[[{word:"cry",translation:"плакать",image:"assets/images/action1/cry.jpg",audio:"assets/sounds/action1/cry.mp3"},{word:"dance",translation:"танцевать",image:"assets/images/action1/dance.jpg",audio:"assets/sounds/action1/dance.mp3"},{word:"dive",translation:"нырять",image:"assets/images/action1/dive.jpg",audio:"assets/sounds/action1/dive.mp3"},{word:"draw",translation:"рисовать",image:"assets/images/action1/draw.jpg",audio:"assets/sounds/action1/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"assets/images/action1/fish.jpg",audio:"assets/sounds/action1/fish.mp3"},{word:"fly",translation:"летать",image:"assets/images/action1/fly.jpg",audio:"assets/sounds/action1/fly.mp3"},{word:"hug",translation:"обнимать",image:"assets/images/action1/hug.jpg",audio:"assets/sounds/action1/hug.mp3"},{word:"jump",translation:"прыгать",image:"assets/images/action1/jump.jpg",audio:"assets/sounds/action1/jump.mp3"}],[{word:"open",translation:"открывать",image:"assets/images/action2/open.jpg",audio:"assets/sounds/action2/open.mp3"},{word:"play",translation:"играть",image:"assets/images/action2/play.jpg",audio:"assets/sounds/action2/play.mp3"},{word:"point",translation:"указывать",image:"assets/images/action2/point.jpg",audio:"assets/sounds/action2/point.mp3"},{word:"ride",translation:"ездить",image:"assets/images/action2/ride.jpg",audio:"assets/sounds/action2/ride.mp3"},{word:"run",translation:"бегать",image:"assets/images/action2/run.jpg",audio:"assets/sounds/action2/run.mp3"},{word:"sing",translation:"петь",image:"assets/images/action2/sing.jpg",audio:"assets/sounds/action2/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"assets/images/action2/skip.jpg",audio:"assets/sounds/action2/skip.mp3"},{word:"swim",translation:"плавать",image:"assets/images/action2/swim.jpg",audio:"assets/sounds/action2/swim.mp3"}],[{word:"cat",translation:"кот",image:"assets/images/pets/cat.jpg",audio:"assets/sounds/pets/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"assets/images/pets/chick.jpg",audio:"assets/sounds/pets/chick.mp3"},{word:"chicken",translation:"курица",image:"assets/images/pets/chicken.jpg",audio:"assets/sounds/pets/chicken.mp3"},{word:"dog",translation:"собака",image:"assets/images/pets/dog.jpg",audio:"assets/sounds/pets/dog.mp3"},{word:"horse",translation:"лошадь",image:"assets/images/pets/horse.jpg",audio:"assets/sounds/pets/horse.mp3"},{word:"pig",translation:"свинья",image:"assets/images/pets/pig.jpg",audio:"assets/sounds/pets/pig.mp3"},{word:"caw",translation:"корова",image:"assets/images/pets/caw.jpg",audio:"assets/sounds/pets/caw.mp3"},{word:"donkey",translation:"осёл",image:"assets/images/pets/donkey.jpg",audio:"assets/sounds/pets/donkey.mp3"}],[{word:"rabbit",translation:"кролик",image:"assets/images/animal1/rabbit.jpg",audio:"assets/sounds/animal1/rabbit.mp3"},{word:"sheep",translation:"овца",image:"assets/images/animal1/sheep.jpg",audio:"assets/sounds/animal1/sheep.mp3"},{word:"bird",translation:"птица",image:"assets/images/animal1/bird.jpg",audio:"assets/sounds/animal1/bird.mp3"},{word:"fish",translation:"рыба",image:"assets/images/animal1/fish.jpg",audio:"assets/sounds/animal1/fish.mp3"},{word:"frog",translation:"жаба",image:"assets/images/animal1/frog.jpg",audio:"assets/sounds/animal1/frog.mp3"},{word:"giraffe",translation:"жираф",image:"assets/images/animal1/giraffe.jpg",audio:"assets/sounds/animal1/giraffe.mp3"},{word:"lion",translation:"лев",image:"assets/images/animal1/lion.jpg",audio:"assets/sounds/animal1/lion.mp3"},{word:"mouse",translation:"мышь",image:"assets/images/animal1/mouse.jpg",audio:"assets/sounds/animal1/mouse.mp3"}],[{word:"turtle",translation:"черепаха",image:"assets/images/animal2/turtle.jpg",audio:"assets/sounds/animal2/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"assets/images/animal2/dolphin.jpg",audio:"assets/sounds/animal2/dolphin.mp3"},{word:"bee",translation:"пчела",image:"assets/images/animal2/bee.jpg",audio:"assets/sounds/animal2/bee.mp3"},{word:"elephant",translation:"слон",image:"assets/images/animal2/elephant.jpg",audio:"assets/sounds/animal2/elephant.mp3"},{word:"fox",translation:"лиса",image:"assets/images/animal2/fox.jpg",audio:"assets/sounds/animal2/fox.mp3"},{word:"hippocampus",translation:"морской конёк",image:"assets/images/animal2/hippocampus.jpg",audio:"assets/sounds/animal2/hippocampus.mp3"},{word:"panda",translation:"панда",image:"assets/images/animal2/panda.jpg",audio:"assets/sounds/animal2/panda.mp3"},{word:"penguin",translation:"пингвин",image:"assets/images/animal2/penguin.jpg",audio:"assets/sounds/animal2/penguin.mp3"}],[{word:"ear",translation:"ухо",image:"assets/images/body/ear.jpg",audio:"assets/sounds/body/ear.mp3"},{word:"hand",translation:"рука",image:"assets/images/body/hand.jpg",audio:"assets/sounds/body/hand.mp3"},{word:"head",translation:"голова",image:"assets/images/body/head.jpg",audio:"assets/sounds/body/head.mp3"},{word:"neck",translation:"шея",image:"assets/images/body/neck.jpg",audio:"assets/sounds/body/neck.mp3"},{word:"nose",translation:"нос",image:"assets/images/body/nose.jpg",audio:"assets/sounds/body/nose.mp3"},{word:"skull",translation:"череп",image:"assets/images/body/skull.jpg",audio:"assets/sounds/body/skull.mp3"},{word:"stomach",translation:"желудок",image:"assets/images/body/stomach.jpg",audio:"assets/sounds/body/stomach.mp3"},{word:"tooth",translation:"зуб",image:"assets/images/body/tooth.jpg",audio:"assets/sounds/body/tooth.mp3"}],[{word:"beach",translation:"пляж",image:"assets/images/places/beach.jpg",audio:"assets/sounds/places/beach.mp3"},{word:"city",translation:"город",image:"assets/images/places/city.jpg",audio:"assets/sounds/places/city.mp3"},{word:"desert",translation:"пустыня",image:"assets/images/places/desert.jpg",audio:"assets/sounds/places/desert.mp3"},{word:"field",translation:"поле",image:"assets/images/places/field.jpg",audio:"assets/sounds/places/field.mp3"},{word:"forest",translation:"лес",image:"assets/images/places/forest.jpg",audio:"assets/sounds/places/forest.mp3"},{word:"river",translation:"река",image:"assets/images/places/river.jpg",audio:"assets/sounds/places/river.mp3"},{word:"room",translation:"комната",image:"assets/images/places/room.jpg",audio:"assets/sounds/places/room.mp3"},{word:"village",translation:"деревня",image:"assets/images/places/village.jpg",audio:"assets/sounds/places/village.mp3"}],[{word:"sad",translation:"грустный",image:"assets/images/emotion/sad.jpg",audio:"assets/sounds/emotion/sad.mp3"},{word:"angry",translation:"сердитый",image:"assets/images/emotion/angry.jpg",audio:"assets/sounds/emotion/angry.mp3"},{word:"happy",translation:"счастливый",image:"assets/images/emotion/happy.jpg",audio:"assets/sounds/emotion/happy.mp3"},{word:"tired",translation:"уставший",image:"assets/images/emotion/tired.jpg",audio:"assets/sounds/emotion/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"assets/images/emotion/surprised.jpg",audio:"assets/sounds/emotion/surprised.mp3"},{word:"scared",translation:"испуганный",image:"assets/images/emotion/scared.jpg",audio:"assets/sounds/emotion/scared.mp3"},{word:"smile",translation:"улыбка",image:"assets/images/emotion/smile.jpg",audio:"assets/sounds/emotion/smile.mp3"},{word:"laugh",translation:"смех",image:"assets/images/emotion/laugh.png",audio:"assets/sounds/emotion/laugh.mp3"}]].map((function(e,a){var t=a+1,o=e.map((function(e,a){var t=a+1;return[t,s(s({},e),{},{id:t})]})),i=new Map(o);return[t,s(s({id:t},n[a]),{},{wordsMap:i})]})),i=new Map(o);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function d(e,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,(void 0,n=function(e,a){if("object"!==r(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,"string");if("object"!==r(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t.key),"symbol"===r(n)?n:String(n)),t)}var n}var c=function(){function e(a,s,t,n){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.categoryCardListComponent=t,this.catalogCardsContainerElement=n,this.wordsMap=s,this.initializationView(a)}var a,s;return a=e,(s=[{key:"chooseCurrentWord",value:function(){var e,a,s,t;this.currentWordsArray.length?(this.currentWord=(0,t=(e=this.currentWordsArray).length-1,s=e[a=Math.floor(0+Math.random()*(t+1-0))],e.splice(a,1),s),this.playSound(this.currentWord.audio)):this.gameOver()}},{key:"createStartButton",value:function(e){var a=this,s=document.createElement("button");s.classList.add("play-mode__button-start"),s.innerHTML="Start game",s.addEventListener("click",(function t(){s.removeEventListener("click",t),s.remove(),a.createRepeatButton(e),a.startTheGame()})),e.appendChild(s)}},{key:"createRepeatButton",value:function(e){var a=this,s=document.createElement("button");s.classList.add("play-mode__button-repeat"),s.addEventListener("click",(function(e){a.playSound(a.currentWord.audio)})),e.appendChild(s)}},{key:"createScoresList",value:function(e){this.scoresListElement=document.createElement("ul"),this.scoresListElement.classList.add("play-mode__scores-list"),e.appendChild(this.scoresListElement)}},{key:"dispatchGameOverEvent",value:function(e){var a=new CustomEvent("gameOver",{detail:{errorCount:e}});this.playModeControlsContainerElement.dispatchEvent(a)}},{key:"gameOver",value:function(){var e=this.scoresArray.filter((function(e){return!e})).length;e?this.playSoundFailure():this.playSoundSuccess(),this.dispatchGameOverEvent(e)}},{key:"initializationView",value:function(e){this.playModeControlsContainerElement=e;var a=document.createElement("div");a.classList.add("play-mode-button__container"),this.createScoresList(a),this.createStartButton(a),this.playModeControlsContainerElement.appendChild(a)}},{key:"playSound",value:function(e){new Audio(e).play()}},{key:"playSoundFailure",value:function(){this.playSound("./assets/sounds/failure.mp3")}},{key:"playSoundSuccess",value:function(){this.playSound("./assets/sounds/success.mp3")}},{key:"renderScores",value:function(e){for(var a=new DocumentFragment,s=Math.max(0,e.length-5);s<e.length;s++){var t=e[s],n=document.createElement("li");n.classList.add(t?"score-item--right":"score-item--incorrect"),a.appendChild(n)}this.scoresListElement.innerHTML="",this.scoresListElement.appendChild(a)}},{key:"startTheGame",value:function(){var e=this;this.scoresArray=[],this.currentWordsArray=[],this.wordsMap.forEach((function(a){e.currentWordsArray.push(a)})),this.chooseCurrentWord(),this.catalogCardsContainerElement.addEventListener("wordCardClicked",(function(a){var s=a.detail.wordID;s===e.currentWord.id?(e.scoresArray.push(!0),e.categoryCardListComponent.markWordCardAsDisabled(s),e.playSoundSuccess(),setTimeout((function(){e.chooseCurrentWord()}),2e3)):(e.scoresArray.push(!1),e.playSoundFailure()),e.renderScores(e.scoresArray)}))}}])&&d(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function m(e,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,(void 0,n=function(e,a){if("object"!==l(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var t=s.call(e,"string");if("object"!==l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t.key),"symbol"===l(n)?n:String(n)),t)}var n}function u(){location.reload()}var p=function(){function e(a,s){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.categoriesMap=a,this.containerElement=s,this.initializationView(a)}var a,s;return a=e,s=[{key:"changePlayMode",value:function(e){this.playMode=e}},{key:"displayWordCardsByCategoryID",value:function(e){var a=this.categoriesMap.get(e).wordsMap;this.displayWordCardsByWordsMap(a)}},{key:"markWordCardAsDisabled",value:function(e){var a=this.wordIDsToElementsMap.get(e);a.style.opacity=.5,a.style.cursor="not-allowed",this.wordsElementsMarkedAsDisabledSet.add(a)}},{key:"appendCategoryCards",value:function(e,a){var s=this,t=new DocumentFragment;this.categoriesElementsMap=new Map,e.forEach((function(e){var a,n,o,i,r=(n=(a=e).imagePath,o=a.categoryName,(i=document.createElement("div")).classList.add("word-category-card__card-element-container"),i.innerHTML='\n    <div class="word-category-card__image-container">\n      <img class="word-category-card__image" src="'.concat(n,'">\n    </div>\n    <div class="word-category-card__category-description">\n      <div class="word-category-card__category-name">').concat(o,'</div>\n      <div class="word-category-card__card-count">8 cards</div>\n    </div>\n  '),i);t.appendChild(r),s.categoriesElementsMap.set(r,e)})),a.appendChild(t)}},{key:"appendWordCards",value:function(e,a){var s=new DocumentFragment;e.forEach((function(e){var a=function(e){var a=e.audio,s=e.image,t=e.translation,n=e.word,o=document.createElement("div");o.classList.add("word-card__card-element-container"),o.innerHTML='\n    <div class="word-card__front-side">\n      <div class="word-card__image-container">\n        <img class="word-card__image" src="'.concat(s,'" alt="word picture">\n      </div>\n      <div class="word-card__description">\n        <div class="word-card__word">').concat(n,'</div>\n        <button class="word-card__turn-button">\n          <img class="word-card__turn-button-image" src="junkyard/turn_button.png" alt="turn button">\n        </button>\n      </div>\n    </div>\n    <div class="word-card__backside">\n      <div class="word-card__image-container">\n        <img class="word-card__image" src="').concat(s,'" alt="word picture">\n      </div>\n      <div class="word-card__description">\n        <div class="word-card__word-translation">').concat(t,"</div>\n      </div>\n    </div>\n  ");var i="word-card__card-element-container--turned";function r(){o.classList.remove(i),o.removeEventListener("mouseleave",r)}var d=function(e){if(e.target.closest(".word-card__turn-button"))return o.classList.add(i),void o.addEventListener("mouseleave",r);e.target.closest(".word-card__front-side")&&new Audio(a).play()};return o.addEventListener("click",d),{destroy:function(){o.removeEventListener("click",d)},element:o}}(e);s.appendChild(a.element)})),a.appendChild(s)}},{key:"appendWordCardsPlayMode",value:function(e,a){var s=this,t="js-word-card",n=new DocumentFragment;this.wordIDsToElementsMap=new Map,this.wordsElementsMap=new Map,this.wordsElementsMarkedAsDisabledSet=new Set,e.forEach((function(e){var a,o,i,r,d=(o=(a=e).audio,i=a.image,(r=document.createElement("div")).classList.add("word-card-play-mode__card-element-container"),r.innerHTML='\n    <div class="word-card-play-mode__front-side">\n      <div class="word-card-play-mode__image-container">\n        <img class="word-card-play-mode__image" src="'.concat(i,'" alt="word picture">\n      </div>\n      <div class="word-card-play-mode__bottom"></div>\n    </div>\n  '),{playSound:function(){new Audio(o).play()},element:r});d.element.classList.add(t),n.appendChild(d.element),s.wordIDsToElementsMap.set(e.id,d.element),s.wordsElementsMap.set(d.element,e)})),a.addEventListener("click",(function(e){var a=e.target.closest(".".concat(t));if(a&&!s.wordsElementsMarkedAsDisabledSet.has(a)){var n=s.wordsElementsMap.get(a).id;s.dispatchWordCardClickedEvent(n)}})),a.appendChild(n)}},{key:"dispatchCategoryCardClickedEvent",value:function(e){var a=new CustomEvent("categoryCardClicked",{detail:{category:e}});this.containerElement.dispatchEvent(a)}},{key:"dispatchWordCardClickedEvent",value:function(e){var a=new CustomEvent("wordCardClicked",{detail:{wordID:e}});this.containerElement.dispatchEvent(a)}},{key:"displayWordCardsByWordsMap",value:function(e){var a=document.createElement("div");a.classList.add("word-card-list__container"),this.playMode?this.appendWordCardsPlayMode(e,a):this.appendWordCards(e,a),this.containerElement.innerHTML="",this.containerElement.appendChild(a)}},{key:"initializationView",value:function(e){var a=this;this.playMode=!1,this.listElement=document.createElement("div"),this.listElement.classList.add("word-category-card__list-container"),this.appendCategoryCards(e,this.listElement),this.listElement.addEventListener("click",(function(e){var s=e.target.closest(".word-category-card__card-element-container");if(s){var t=a.categoriesElementsMap.get(s);a.dispatchCategoryCardClickedEvent(t),a.displayWordCardsByWordsMap(t.wordsMap)}})),this.containerElement.appendChild(this.listElement)}}],s&&m(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),e}();document.getElementsByClassName("js-navigation__list-item--main-page")[0].addEventListener("click",(function(e){u()})),document.getElementsByClassName("navigation__list")[0].addEventListener("click",(function(e){var a=+e.target.dataset.categoryId;a&&(g.checked=!1,v.displayWordCardsByCategoryID(a))}));var g=document.getElementById("burger-checkbox");g.addEventListener("change",(function(e){e.target.checked?document.body.classList.add("navigation__section--fix-scroll"):document.body.classList.remove("navigation__section--fix-scroll")}));var y=document.getElementsByClassName("js-word-category-card__category-card-list-component-container")[0],v=new p(i,y),h=document.getElementById("toggle-checkbox");h.addEventListener("change",(function(e){v.changePlayMode(h.checked)})),y.addEventListener("categoryCardClicked",(function(e){if(h.setAttribute("disabled","true"),h.parentElement.style.opacity=.4,h.parentElement.style.cursor="not-allowed",h.checked){var a=e.detail.category.wordsMap,s=document.getElementsByClassName("js-header__play-mode-controls")[0];new c(s,a,v,y),s.addEventListener("gameOver",(function(e){var a,s,t=(a=e.detail.errorCount)?function(e){var a=document.createElement("div");return a.classList.add("game-over__container"),a.innerHTML='\n    <div class="game-over__error-image"></div>\n    <h1>Total errors: '.concat(e,". Do not give up!</h1>\n  "),a}(a):((s=document.createElement("div")).classList.add("game-over__container"),s.innerHTML='\n    <div class="game-over__success-image"></div>\n    <h1>Well done! Move only forward!</h1>\n  ',s);document.body.appendChild(t),setTimeout((function(){t.remove(),u()}),1e4)}))}}))})();